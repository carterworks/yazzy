---
import type { HTMLAttributes } from "astro/types";

type Variant = "primary" | "secondary" | "link";
interface Props extends HTMLAttributes<"button"> {
  variant?: Variant;
  class?: string;
}

const { variant = "primary", class: propClasses, ...rest } = Astro.props;

const buttonClasses = [
  "px-2 py-1",
  "rounded",
  "transition",
  "text-center",
  "border",
  "cursor-pointer",
] as const;

const variantClasses: Record<Variant, string> = Object.freeze({
  primary:
    "bg-base-900 hover:bg-base-800 active:bg-base-850 border-base-900 text-paper dark:bg-base-900 dark:hover:bg-base-800 dark:active:bg-base-850 dark:border-base-900",
  secondary:
    "bg-paper hover:bg-base-150 active:bg-base-100 border-base-100 dark:bg-base-900 dark:hover:bg-base-800 dark:active:bg-base-850 dark:border-base-900",
  link: "text-base-900 hover:text-base-800 active:text-base-850 dark:text-base-900 dark:hover:text-base-800 dark:active:text-base-850",
});
---

<button
  class:list={[...buttonClasses, variantClasses[variant], propClasses]}
  {...rest}><slot /></button
>
